import{u as y,j as e,r as f}from"./app-BuFDx-Qe.js";import{C}from"./confirm-dialog-BWmX-USD.js";import{B as p}from"./button-BZVWAlVI.js";import{C as F,a as S}from"./card-CqwUC94o.js";import{F as A,a as _,b as D,c as E,d as l,e as n,f as d,g as c}from"./field-DLVBr99H.js";import{I as m}from"./input-ElP9p0lG.js";import{S as B,a as T,b as w,c as I,d as k}from"./select-BtUnUccJ.js";import{u as L,s as V,d as G}from"./app-layout-gv3U0F6q.js";const N=[{value:"bank",label:"Bank Account"},{value:"cash",label:"Cash"},{value:"credit_card",label:"Credit Card"}];function P({account:r}){const o=r.id!==void 0,{data:s,setData:i,post:x,put:j,processing:u,errors:a,reset:b}=y({name:r.name?r.name:"",type:r.type?r.type:"",balance:r.balance?r.balance:"",credit_limit:r.credit_limit?r.credit_limit:""}),v=t=>{t.preventDefault();const h=o?L(r.id).url:V().url;o?j(h):x(h,{onSuccess:()=>{b()}})},g=()=>f.delete(G(r.id).url);return e.jsx(F,{children:e.jsx(S,{children:e.jsx("form",{onSubmit:v,children:e.jsxs(A,{children:[e.jsx(_,{children:"Add a new Account"}),e.jsx(D,{children:"Add details about a new account"}),e.jsxs(E,{children:[e.jsxs(l,{children:[e.jsx(n,{htmlFor:"name",children:"Account name"}),e.jsxs(d,{children:[e.jsx(m,{id:"name",type:"text",value:s.name,onChange:t=>i("name",t.target.value),placeholder:"Enter the account name"}),e.jsx(c,{errors:a.name?[{message:a.name}]:void 0})]})]}),e.jsxs(l,{children:[e.jsx(n,{htmlFor:"type",children:"Account type"}),e.jsxs(d,{children:[e.jsxs(B,{value:s.type,onValueChange:t=>i("type",t),children:[e.jsx(T,{children:e.jsx(w,{placeholder:"Select account type"})}),e.jsx(I,{children:N.map(t=>e.jsx(k,{value:t.value,children:t.label},t.value))})]}),e.jsx(c,{errors:a.type?[{message:a.type}]:void 0})]})]}),e.jsxs(l,{children:[e.jsx(n,{htmlFor:"balance",children:"Balance"}),e.jsxs(d,{children:[e.jsx(m,{id:"balance",type:"number",step:"0.01",min:"0",value:s.balance,onChange:t=>i("balance",t.target.value),placeholder:"Enter balance"}),e.jsx(c,{errors:a.balance?[{message:a.balance}]:void 0})]})]}),s.type==="credit_card"&&e.jsxs(l,{children:[e.jsx(n,{htmlFor:"credit_limit",children:"Credit limit"}),e.jsxs(d,{children:[e.jsx(m,{id:"credit_limit",type:"number",step:"0.01",min:"0",value:s.credit_limit,onChange:t=>i("credit_limit",t.target.value),placeholder:"Enter credit limit"}),e.jsx(c,{errors:a.credit_limit?[{message:a.credit_limit}]:void 0})]})]})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx(C,{title:"Delete Account",description:"Are you sure you want to delete this account?",confirmButtonText:"Delete",trigger:e.jsx(p,{variant:"destructive",type:"button",children:"Delete"}),onConfirm:g}),e.jsx(p,{type:"submit",disabled:u,children:u?"Saving...":o?"Save Transaction":"Add Transaction"})]})]})})})})}export{P as A};

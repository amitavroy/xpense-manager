import{j as e,c as y,u as S,r as F}from"./app-BCmchfrg.js";import{C}from"./confirm-dialog-CRKxKVlh.js";import{B as h}from"./button-BfjcyImA.js";import{C as B,a as D}from"./card-C6_81XG1.js";import{F as w,a as _,b as E,c as A,d,e as l,f as c,g as m}from"./field-BO5G-Tn9.js";import{I}from"./input-CXzhrqDq.js";import{S as T,a as k,b as L,c as N,d as V}from"./select-CQwGq6Kq.js";import{b as u}from"./app-layout-CedOD7ms.js";function z({className:r,...s}){return e.jsx("textarea",{"data-slot":"textarea",className:y("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...s})}function P({biller:r,categories:s}){const a=r.id!==void 0,{data:n,setData:o,post:g,put:j,processing:x,errors:i,reset:f}=S({name:r.name?r.name:"",description:r.description?r.description:"",category_id:r.category_id?r.category_id:""}),v=t=>{t.preventDefault();const p=a?u.update(r.id).url:u.store().url;a?j(p):g(p,{onSuccess:()=>{f()}})},b=()=>F.delete(u.destroy(r.id).url);return e.jsx(B,{children:e.jsx(D,{children:e.jsx("form",{onSubmit:v,children:e.jsxs(w,{children:[e.jsx(_,{children:"Add a new Biller"}),e.jsx(E,{children:"Add details about a new biller"}),e.jsxs(A,{children:[e.jsxs(d,{children:[e.jsx(l,{htmlFor:"name",children:"Biller name"}),e.jsxs(c,{children:[e.jsx(I,{id:"name",type:"text",value:n.name,onChange:t=>o("name",t.target.value),placeholder:"Enter the biller name"}),e.jsx(m,{errors:i.name?[{message:i.name}]:void 0})]})]}),e.jsxs(d,{children:[e.jsx(l,{htmlFor:"type",children:"Biller category"}),e.jsxs(c,{children:[e.jsxs(T,{value:n.category_id.toString(),onValueChange:t=>o("category_id",t),children:[e.jsx(k,{children:e.jsx(L,{placeholder:"Select account type"})}),e.jsx(N,{children:s.map(t=>e.jsx(V,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(m,{errors:i.category_id?[{message:i.category_id}]:void 0})]})]}),e.jsxs(d,{children:[e.jsx(l,{htmlFor:"description",children:"Description"}),e.jsxs(c,{children:[e.jsx(z,{placeholder:"Enter description",value:n.description,onChange:t=>o("description",t.target.value)}),e.jsx(m,{errors:i.description?[{message:i.description}]:void 0})]})]})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx(C,{title:"Delete Biller",description:"Are you sure you want to delete this biller?",confirmButtonText:"Delete",trigger:e.jsx(h,{variant:"destructive",type:"button",children:"Delete"}),onConfirm:b}),e.jsx(h,{type:"submit",disabled:x,children:x?"Saving...":a?"Save Biller":"Add Biller"})]})]})})})})}export{P as B};

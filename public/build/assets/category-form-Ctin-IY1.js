import{u as C,j as e,r as f}from"./app-77O1mCLX.js";import{C as v}from"./confirm-dialog-BqOGqF_6.js";import{B as d}from"./button-DFWlWzGV.js";import{C as b,a as F}from"./card-C3o5Rd52.js";import{F as S,a as D,b as E,c as w,d as c,e as m,f as u,g as p}from"./field-ifvlePp_.js";import{I as A}from"./input-C-hTDxEC.js";import{S as I,a as B,b as T,c as L,d as V}from"./select-oW8E1NvT.js";import{k,l as G,m as N}from"./app-layout-BrBS9Xrl.js";const O=[{value:"income",label:"Income"},{value:"expense",label:"Expense"}];function Q({category:s}){const a=s.id!==void 0,{data:n,setData:l,post:x,put:h,processing:i,errors:r,reset:j}=C({name:s.name?s.name:"",type:s.type?s.type:""}),y=t=>{t.preventDefault();const o=a?k(s.id).url:G().url;a?h(o):x(o,{onSuccess:()=>{j()}})},g=()=>f.delete(N(s.id).url);return e.jsx(b,{children:e.jsx(F,{children:e.jsx("form",{onSubmit:y,children:e.jsxs(S,{children:[e.jsx(D,{children:"Add a new Category"}),e.jsx(E,{children:"Add details about a new category"}),e.jsxs(w,{children:[e.jsxs(c,{children:[e.jsx(m,{htmlFor:"name",children:"Category name"}),e.jsxs(u,{children:[e.jsx(A,{id:"name",type:"text",value:n.name,onChange:t=>l("name",t.target.value),placeholder:"Enter the category name"}),e.jsx(p,{errors:r.name?[{message:r.name}]:void 0})]})]}),e.jsxs(c,{children:[e.jsx(m,{htmlFor:"type",children:"Category type"}),e.jsxs(u,{children:[e.jsxs(I,{value:n.type,onValueChange:t=>l("type",t),children:[e.jsx(B,{children:e.jsx(T,{placeholder:"Select account type"})}),e.jsx(L,{children:O.map(t=>e.jsx(V,{value:t.value,children:t.label},t.value))})]}),e.jsx(p,{errors:r.type?[{message:r.type}]:void 0})]})]})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx(v,{title:"Delete Category",description:"Are you sure you want to delete this category?",confirmButtonText:"Delete",trigger:e.jsx(d,{variant:"destructive",type:"button",children:"Delete"}),onConfirm:g}),e.jsx(d,{type:"submit",disabled:i,children:i?"Saving...":a?"Save Category":"Add Category"})]})]})})})})}export{Q as C};

import{u as D,j as e,r as A,H as E}from"./app-77O1mCLX.js";import{H as w}from"./heading-DuNO82Id.js";import{C as N}from"./confirm-dialog-BqOGqF_6.js";import{B as j}from"./button-DFWlWzGV.js";import{C as H,a as B}from"./card-C3o5Rd52.js";import{F as L,a as T,b as V,c as q,d as l,e as n,f as a,g as c}from"./field-ifvlePp_.js";import{I as x}from"./input-C-hTDxEC.js";import{S as g,a as f,b as v,c as S,d as y}from"./select-oW8E1NvT.js";import{o as G,p as O,q as P,A as R,r as k}from"./app-layout-BrBS9Xrl.js";/* empty css            */import"./index-BnmiHQAY.js";import"./label-BnDsWe6Z.js";import"./index-C9XoEVSm.js";import"./chevron-down-icbO5SDc.js";import"./index-CGZUerCI.js";import"./app-logo-icon-D3gb9Bb7.js";function z({accounts:m,categories:u,transaction:t}){const r=t.id!==void 0,{data:o,setData:d,post:_,put:F,processing:h,errors:i,reset:I}=D({account_id:t.account_id?t.account_id.toString():"",category_id:t.category_id?t.category_id.toString():"",amount:t.amount||"",date:t.date?new Date(t.date).toISOString().split("T")[0]:"",description:t.description||""}),C=s=>{s.preventDefault();const p=r?G(t.id).url:O().url;r?F(p):_(p,{onSuccess:()=>{I()}})},b=()=>A.delete(P(t.id).url);return e.jsx(H,{children:e.jsx(B,{children:e.jsx("form",{onSubmit:C,children:e.jsxs(L,{children:[e.jsx(T,{children:r?"Edit Income":"Add Income"}),e.jsx(V,{children:r?"Edit the details of a income":"Add details about a new income"}),e.jsxs(q,{children:[e.jsxs(l,{children:[e.jsx(n,{htmlFor:"account_id",children:"Account"}),e.jsxs(a,{children:[e.jsxs(g,{value:o.account_id,onValueChange:s=>d("account_id",s),children:[e.jsx(f,{children:e.jsx(v,{placeholder:"Select an account"})}),e.jsx(S,{children:m.map(s=>e.jsx(y,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx(c,{errors:i.account_id?[{message:i.account_id}]:void 0})]})]}),e.jsxs(l,{children:[e.jsx(n,{htmlFor:"category_id",children:"Category"}),e.jsxs(a,{children:[e.jsxs(g,{value:o.category_id,onValueChange:s=>d("category_id",s),children:[e.jsx(f,{children:e.jsx(v,{placeholder:"Select a category"})}),e.jsx(S,{children:u.map(s=>e.jsx(y,{value:s.id.toString(),children:s.name},s.id))})]}),e.jsx(c,{errors:i.category_id?[{message:i.category_id}]:void 0})]})]}),e.jsxs(l,{children:[e.jsx(n,{htmlFor:"amount",children:"Amount"}),e.jsxs(a,{children:[e.jsx(x,{id:"amount",type:"number",step:"0.01",min:"0",value:o.amount,onChange:s=>d("amount",s.target.value),placeholder:"Enter amount"}),e.jsx(c,{errors:i.amount?[{message:i.amount}]:void 0})]})]}),e.jsxs(l,{children:[e.jsx(n,{htmlFor:"date",children:"Date"}),e.jsxs(a,{children:[e.jsx(x,{id:"date",type:"date",value:o.date,onChange:s=>d("date",s.target.value)}),e.jsx(c,{errors:i.date?[{message:i.date}]:void 0})]})]}),e.jsxs(l,{children:[e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsxs(a,{children:[e.jsx(x,{id:"description",type:"text",value:o.description,onChange:s=>d("description",s.target.value),placeholder:"Enter description"}),e.jsx(c,{errors:i.description?[{message:i.description}]:void 0})]})]})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[r&&e.jsx(N,{title:"Delete Income",description:"Are you sure you want to delete this income?",confirmButtonText:"Delete",trigger:e.jsx(j,{variant:"destructive",type:"button",children:"Delete"}),onConfirm:b}),e.jsx(j,{type:"submit",disabled:h,children:h?"Saving...":r?"Save Income":"Add Income"})]})]})})})})}const J=[{title:"Incomes",href:k.index().url},{title:"Add Income",href:"#"}];function le({transaction:m,accounts:u,categories:t}){return e.jsxs(R,{breadcrumbs:J,children:[e.jsx(E,{title:"Incomes"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsx(w,{title:"Incomes",description:"All my incomes"}),e.jsx("div",{className:"w-full lg:grid lg:grid-cols-4",children:e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"flex flex-col gap-4",children:e.jsx(z,{accounts:u,categories:t,transaction:m})})})})]})]})}export{le as default};

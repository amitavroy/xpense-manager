import{u as D,j as e,r as A,H as E}from"./app-ve5BU_pJ.js";import{H as w}from"./heading-CurFds9m.js";import{C as N}from"./confirm-dialog-Bbk_xA_X.js";import{B as j}from"./button-D2x7kvve.js";import{C as H,a as B}from"./card-Clb8znuj.js";import{F as L,g as T,f as V,a as q,b as l,c as n,d as a,e as c}from"./field-F1f4fuUp.js";import{I as x}from"./input-DjXr1uaT.js";import{S as g,a as f,b as v,c as S,d as y}from"./select-DQDoJicF.js";import{q as G,r as O,t as P,A as R,v as k}from"./app-layout-B16zKjzA.js";/* empty css            */import"./index-CQI2C884.js";import"./label-BGxtZQUH.js";import"./index-KgTj-bHc.js";import"./chevron-down-BSTTkKAt.js";import"./index-CGZUerCI.js";import"./app-logo-icon-B4GUqTPf.js";function z({accounts:m,categories:u,transaction:s}){const r=s.id!==void 0,{data:o,setData:d,post:_,put:F,processing:h,errors:i,reset:I}=D({account_id:s.account_id?s.account_id.toString():"",category_id:s.category_id?s.category_id.toString():"",amount:s.amount||"",date:s.date?new Date(s.date).toISOString().split("T")[0]:"",description:s.description||""}),C=t=>{t.preventDefault();const p=r?G(s.id).url:O().url;r?F(p):_(p,{onSuccess:()=>{I()}})},b=()=>A.delete(P(s.id).url);return e.jsx(H,{children:e.jsx(B,{children:e.jsx("form",{onSubmit:C,children:e.jsxs(L,{children:[e.jsx(T,{children:r?"Edit Income":"Add Income"}),e.jsx(V,{children:r?"Edit the details of a income":"Add details about a new income"}),e.jsxs(q,{children:[e.jsxs(l,{children:[e.jsx(n,{htmlFor:"account_id",children:"Account"}),e.jsxs(a,{children:[e.jsxs(g,{value:o.account_id,onValueChange:t=>d("account_id",t),children:[e.jsx(f,{children:e.jsx(v,{placeholder:"Select an account"})}),e.jsx(S,{children:m.map(t=>e.jsx(y,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(c,{errors:i.account_id?[{message:i.account_id}]:void 0})]})]}),e.jsxs(l,{children:[e.jsx(n,{htmlFor:"category_id",children:"Category"}),e.jsxs(a,{children:[e.jsxs(g,{value:o.category_id,onValueChange:t=>d("category_id",t),children:[e.jsx(f,{children:e.jsx(v,{placeholder:"Select a category"})}),e.jsx(S,{children:u.map(t=>e.jsx(y,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(c,{errors:i.category_id?[{message:i.category_id}]:void 0})]})]}),e.jsxs(l,{children:[e.jsx(n,{htmlFor:"amount",children:"Amount"}),e.jsxs(a,{children:[e.jsx(x,{id:"amount",type:"number",step:"0.01",min:"0",value:o.amount,onChange:t=>d("amount",t.target.value),placeholder:"Enter amount"}),e.jsx(c,{errors:i.amount?[{message:i.amount}]:void 0})]})]}),e.jsxs(l,{children:[e.jsx(n,{htmlFor:"date",children:"Date"}),e.jsxs(a,{children:[e.jsx(x,{id:"date",type:"date",value:o.date,onChange:t=>d("date",t.target.value)}),e.jsx(c,{errors:i.date?[{message:i.date}]:void 0})]})]}),e.jsxs(l,{children:[e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsxs(a,{children:[e.jsx(x,{id:"description",type:"text",value:o.description,onChange:t=>d("description",t.target.value),placeholder:"Enter description"}),e.jsx(c,{errors:i.description?[{message:i.description}]:void 0})]})]})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[r&&e.jsx(N,{title:"Delete Income",description:"Are you sure you want to delete this income?",confirmButtonText:"Delete",trigger:e.jsx(j,{variant:"destructive",type:"button",children:"Delete"}),onConfirm:b}),e.jsx(j,{type:"submit",disabled:h,children:h?"Saving...":r?"Save Income":"Add Income"})]})]})})})})}const J=[{title:"Incomes",href:k.index().url},{title:"Add Income",href:"#"}];function le({transaction:m,accounts:u,categories:s}){return e.jsxs(R,{breadcrumbs:J,children:[e.jsx(E,{title:"Incomes"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsx(w,{title:"Incomes",description:"All my incomes"}),e.jsx("div",{className:"w-full lg:grid lg:grid-cols-4",children:e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"flex flex-col gap-4",children:e.jsx(z,{accounts:u,categories:s,transaction:m})})})})]})]})}export{le as default};

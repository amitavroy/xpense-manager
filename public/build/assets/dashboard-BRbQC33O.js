import{j as e,f as x,c as y,d as C,a as k,u as T,r as w,b as D,H as S,L as b}from"./app-ve5BU_pJ.js";import{B as c}from"./button-D2x7kvve.js";import{C as F,A as _,n as E,o as A}from"./app-layout-B16zKjzA.js";import{c as M,d as P}from"./index-CGZUerCI.js";import{c as B}from"./index-BUwzAn2i.js";import{A as z}from"./accounts-table-RCNQ4WwR.js";import{D as L,e as V,a as H,b as $,c as G,d as O}from"./dialog-B5xdTuwH.js";import{T as q,b as R,c as g,d as n,e as U,f as o}from"./table-DyIf9P2r.js";import{F as I,a as Q,b as h,c as u,d as m,f as J,e as j}from"./field-F1f4fuUp.js";import{I as f}from"./input-DjXr1uaT.js";import{S as K,a as W,b as X,c as Y,d as Z}from"./select-DQDoJicF.js";import{T as ee}from"./transactions-table-DYmWbYkf.js";/* empty css            */import"./index-CQI2C884.js";import"./app-logo-icon-B4GUqTPf.js";import"./label-BGxtZQUH.js";import"./index-KgTj-bHc.js";import"./chevron-down-BSTTkKAt.js";function re({expenseStats:d}){const{currentMonthTotalCreditCardExpense:r,previousMonthTotalCreditCardExpense:s}=d,t=s<r?"text-red-600 dark:text-red-400":s>r?"text-green-600 dark:text-green-400":"";return e.jsxs("div",{className:"flex h-full flex-col items-center justify-center p-6",children:[e.jsx("div",{className:"mb-4 text-sm font-medium text-muted-foreground",children:"Credit Card Expenses"}),e.jsx("div",{className:`text-4xl font-bold ${t}`,children:x(r)}),e.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:["Last month: ",x(s)]})]})}function se({expenseStats:d}){const{currentMonthTotalExpense:r,previousMonthTotalExpense:s}=d,t=s<r?"text-red-600 dark:text-red-400":s>r?"text-green-600 dark:text-green-400":"";return e.jsxs("div",{className:"flex h-full flex-col items-center justify-center p-6",children:[e.jsx("div",{className:"mb-4 text-sm font-medium text-muted-foreground",children:"Monthly Expenses"}),e.jsx("div",{className:`text-4xl font-bold ${t}`,children:x(r)}),e.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:["Last month: ",x(s)]})]})}const de=C("flex w-fit items-stretch [&>*]:focus-visible:relative [&>*]:focus-visible:z-10",{variants:{orientation:{horizontal:"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none",vertical:"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none"}},defaultVariants:{orientation:"horizontal"}});function ae({className:d,orientation:r,...s}){return e.jsx("div",{role:"group",className:y(de({orientation:r,className:d})),...s})}function p({className:d}){const r=k.useId();return e.jsxs("svg",{className:d,fill:"none",children:[e.jsx("defs",{children:e.jsx("pattern",{id:r,x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:e.jsx("path",{d:"M-3 13 15-5M-5 5l18-18M-1 21 17 3"})})}),e.jsx("rect",{stroke:"none",fill:`url(#${r})`,width:"100%",height:"100%"})]})}function te({pendingBill:d,accounts:r}){const{data:s,setData:t,post:i,processing:v,errors:l}=T({account_id:"",bill_instance_id:d.id,amount:d.amount,paid_date:new Date().toISOString().split("T")[0],notes:"Paying bill for "+d.bill?.biller?.name}),N=a=>{a.preventDefault(),i(M.url(),{onSuccess:()=>{w.reload()}})};return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:N,children:e.jsxs(I,{children:[e.jsxs(Q,{children:[e.jsxs(h,{children:[e.jsx(u,{htmlFor:"account_id",children:"Account"}),e.jsxs(m,{children:[e.jsxs(K,{value:s.account_id,onValueChange:a=>t("account_id",a),children:[e.jsx(W,{children:e.jsx(X,{placeholder:"Select an account"})}),e.jsx(Y,{children:r.map(a=>e.jsx(Z,{value:a.id.toString(),children:a.name},a.id))})]}),s.account_id&&e.jsx(J,{children:r.find(a=>a.id.toString()===s.account_id)?.balance}),e.jsx(j,{errors:l.account_id?[{message:l.account_id}]:void 0})]})]}),e.jsxs(h,{children:[e.jsx(u,{htmlFor:"amount",children:"Amount"}),e.jsxs(m,{children:[e.jsx(f,{id:"amount",type:"number",step:"0.01",min:"0",value:s.amount,onChange:a=>t("amount",parseFloat(a.target.value)),placeholder:"Enter amount"}),e.jsx(j,{errors:l.amount?[{message:l.amount}]:void 0})]})]}),e.jsxs(h,{children:[e.jsx(u,{htmlFor:"date",children:"Date"}),e.jsxs(m,{children:[e.jsx(f,{id:"date",type:"date",value:s.paid_date,onChange:a=>t("paid_date",a.target.value)}),e.jsx(j,{errors:l.paid_date?[{message:l.paid_date}]:void 0})]})]}),e.jsxs(h,{children:[e.jsx(u,{htmlFor:"notes",children:"Notes"}),e.jsxs(m,{children:[e.jsx(f,{id:"notes",type:"text",value:s.notes,onChange:a=>t("notes",a.target.value),placeholder:"Enter notes"}),e.jsx(j,{errors:l.notes?[{message:l.notes}]:void 0})]})]})]}),e.jsx("div",{className:"flex justify-between gap-2",children:e.jsx(c,{type:"submit",disabled:v,children:v?"Paying...":"Pay Bill"})})]})})})}function ie({billInstances:d,accounts:r}){const s=r.data.map(i=>({id:i.id,name:i.name,balance:i.balance.toString()})),t=()=>e.jsxs(q,{children:[e.jsx(R,{children:e.jsxs(g,{children:[e.jsx(n,{children:"#"}),e.jsx(n,{children:"Biller"}),e.jsx(n,{children:"Frequency"}),e.jsx(n,{children:"Due Date"}),e.jsx(n,{children:"Amount"}),e.jsx(n,{children:"Action"})]})}),e.jsx(U,{children:d.map(i=>e.jsxs(g,{children:[e.jsx(o,{children:i.id}),e.jsx(o,{children:i.bill?.biller?.name}),e.jsx(o,{className:"capitalize",children:i.bill?.frequency}),e.jsx(o,{children:D(i.due_date)}),e.jsx(o,{children:x(i.amount)}),e.jsx(o,{children:e.jsxs(L,{children:[e.jsx(V,{asChild:!0,children:e.jsxs(c,{variant:"default",size:"sm",children:[e.jsx(F,{}),"Pay"]})}),e.jsxs(H,{children:[e.jsxs($,{children:[e.jsx(G,{children:"Pay Bill"}),e.jsx(O,{children:"Select an account and pay the bill."})]}),e.jsx(te,{pendingBill:i,accounts:s})]})]})})]},i.id))})]});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center py-2 uppercase",children:e.jsx("h2",{className:"text-lg font-bold",children:"Pending Bills"})}),d.length>0?t():e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No pending bills found"})})]})}const le=[{title:"Dashboard",href:P().url}];function we({transactions:d,accounts:r,pendingBills:s,expenseStats:t}){return e.jsxs(_,{breadcrumbs:le,children:[e.jsx(S,{title:"Dashboard"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsxs("div",{className:"grid auto-rows-min gap-4 md:grid-cols-4",children:[e.jsx("div",{className:"relative aspect-video overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:e.jsx(se,{expenseStats:t})}),e.jsx("div",{className:"relative aspect-video overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:e.jsx(re,{expenseStats:t})}),e.jsx("div",{className:"relative aspect-video overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:e.jsx(p,{className:"absolute inset-0 size-full stroke-neutral-900/20 dark:stroke-neutral-100/20"})}),e.jsx("div",{className:"relative aspect-video overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:e.jsx(p,{className:"absolute inset-0 size-full stroke-neutral-900/20 dark:stroke-neutral-100/20"})})]}),e.jsx("div",{className:"grid auto-rows-min gap-4 md:grid-cols-4",children:e.jsxs(ae,{"aria-label":"Quick actions",children:[e.jsx(c,{variant:"outline",asChild:!0,children:e.jsx(b,{href:E().url,children:"Add expense"})}),e.jsx(c,{variant:"outline",asChild:!0,children:e.jsx(b,{href:B().url,children:"Add fuel entry"})}),e.jsx(c,{variant:"outline",asChild:!0,children:e.jsx(b,{href:A().url,children:"Vehicles"})})]})}),e.jsxs("div",{className:"grid auto-rows-min gap-4 md:grid-cols-3",children:[e.jsx("div",{className:"relative col-span-full overflow-hidden rounded-xl border border-sidebar-border/70 md:col-span-2 dark:border-sidebar-border",children:e.jsx(ee,{transactions:d,type:"expense"})}),e.jsx("div",{className:"relative col-span-full overflow-hidden rounded-xl border border-sidebar-border/70 md:col-span-1 dark:border-sidebar-border",children:e.jsx(z,{accounts:r,fullView:!1})})]}),e.jsx("div",{className:"grid auto-rows-min gap-4 md:grid-cols-3",children:e.jsx("div",{className:"relative col-span-2 overflow-hidden rounded-xl border border-sidebar-border/70 dark:border-sidebar-border",children:e.jsx(ie,{billInstances:s,accounts:r})})}),e.jsx("div",{className:"relative min-h-[100vh] flex-1 overflow-hidden rounded-xl border border-sidebar-border/70 md:min-h-min dark:border-sidebar-border",children:e.jsx(p,{className:"absolute inset-0 size-full stroke-neutral-900/20 dark:stroke-neutral-100/20"})})]})]})}export{we as default};

import{u as f,j as e,r as _}from"./app-BuFDx-Qe.js";import{C as v}from"./confirm-dialog-BWmX-USD.js";import{B as p}from"./button-BZVWAlVI.js";import{C as F,a as C}from"./card-CqwUC94o.js";import{F as k,a as E,b as V,c as A,d as o,e as m,f as l,g as d}from"./field-DLVBr99H.js";import{I as c}from"./input-ElP9p0lG.js";import{ai as S,aj as D,ak as w}from"./app-layout-gv3U0F6q.js";function N({vehicle:r}){const s=r.id!==void 0,{data:a,setData:i,post:x,put:j,processing:u,errors:n,reset:g}=f({name:r.name?r.name:"",company_name:r.company_name?r.company_name:"",registration_number:r.registration_number?r.registration_number:"",kilometers:r.kilometers!==void 0?r.kilometers:0}),b=t=>{t.preventDefault();const h=s?S(r.id).url:D().url;s?j(h):x(h,{onSuccess:()=>{g()}})},y=()=>{r.id&&_.delete(w(r.id).url)};return e.jsx(F,{children:e.jsx(C,{children:e.jsx("form",{onSubmit:b,children:e.jsxs(k,{children:[e.jsx(E,{children:s?"Edit Vehicle":"Add a new Vehicle"}),e.jsx(V,{children:s?"Update vehicle details":"Add details about a new vehicle"}),e.jsxs(A,{children:[e.jsxs(o,{children:[e.jsx(m,{htmlFor:"name",children:"Vehicle name"}),e.jsxs(l,{children:[e.jsx(c,{id:"name",type:"text",value:a.name,onChange:t=>i("name",t.target.value),placeholder:"Enter the vehicle name"}),e.jsx(d,{errors:n.name?[{message:n.name}]:void 0})]})]}),e.jsxs(o,{children:[e.jsx(m,{htmlFor:"company_name",children:"Company name"}),e.jsxs(l,{children:[e.jsx(c,{id:"company_name",type:"text",value:a.company_name,onChange:t=>i("company_name",t.target.value),placeholder:"Enter the company name"}),e.jsx(d,{errors:n.company_name?[{message:n.company_name}]:void 0})]})]}),e.jsxs(o,{children:[e.jsx(m,{htmlFor:"registration_number",children:"Registration number"}),e.jsxs(l,{children:[e.jsx(c,{id:"registration_number",type:"text",value:a.registration_number,onChange:t=>i("registration_number",t.target.value),placeholder:"Enter the registration number"}),e.jsx(d,{errors:n.registration_number?[{message:n.registration_number}]:void 0})]})]}),e.jsxs(o,{children:[e.jsx(m,{htmlFor:"kilometers",children:"Kilometers"}),e.jsxs(l,{children:[e.jsx(c,{id:"kilometers",type:"number",min:"0",step:"1",value:a.kilometers,onChange:t=>i("kilometers",parseInt(t.target.value)||0),placeholder:"Enter kilometers"}),e.jsx(d,{errors:n.kilometers?[{message:n.kilometers}]:void 0})]})]})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[s&&e.jsx(v,{title:"Archive Vehicle",description:"Are you sure you want to archive this vehicle? This action cannot be undone.",confirmButtonText:"Archive",trigger:e.jsx(p,{variant:"destructive",type:"button",children:"Archive"}),onConfirm:y}),e.jsx(p,{type:"submit",disabled:u,children:u?"Saving...":s?"Save Vehicle":"Add Vehicle"})]})]})})})})}export{N as V};
